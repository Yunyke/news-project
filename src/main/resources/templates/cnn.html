<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>CNN 最新新聞</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{css/webstyle.css}">
</head>

<style>
.news-grid {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 20PX 190px;
	align-items: start;
	max-width: 1400px;
	margin: 0 auto;
	padding: 0 20px;
}

.news-card {
	background-color: #f7f7f7;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	border-radius: 8px;
	cursor: pointer;
	display: flex;
	flex-direction: row;
	padding: 10px;
	position: relative;
	transition: background-color 0.3s ease;
	margin: 10px;
	height: 150px;
	width: 150%;
	max-width: none;
	margin-left: -13%;
}

.news-title {
	font-weight: 700;
	font-size: 1rem;
	margin: 0 0 8px 0;
	word-wrap: break-word;
	line-height: 1.2;
	overflow: visible;
	text-overflow: normal;
	white-space: normal;
	max-height: 2.4em;
	padding-right: 80px;
	padding-left: 2px;
}

.cnn-card .news-title {
	font-size: 0.95rem;
	line-height: 1.2;
	margin: 0;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	padding-right: 60px;
}
</style>

<body>

	<div th:replace="~{fragments :: navbar}"></div>

	<div class="container-fluid px-4 mt-4"
		style="max-width: 1600px; margin: auto;">
		<h1 class="mb-4">CNN 新聞</h1>

		<div class="news-grid">
			<div th:each="news : ${newsList}"
				th:if="${news != null and news.title != null and news.title != ''}"
				class="news-card">

				<button class="btn btn-sm btn-outline-primary add-to-cart-btn"
					th:attr="data-id=${news.id}">➕</button>

				<a th:href="${news.url}" target="_blank"
					style="text-decoration: none;">
					<div style="display: flex;">
						<img th:if="${news.imageUrl != null}" th:src="${news.imageUrl}"
							class="news-img" />
						<div class="news-content">
							<h5 class="news-title" th:text="${news.title}">標題</h5>
							<p class="hover-description" th:text="${news.description}">摘要</p>
							<p class="news-time"
								th:text="${#temporals.format(news.publishedAt, 'yyyy-MM-dd HH:mm')}">時間</p>
						</div>
					</div>
				</a>
			</div>
		</div>
	</div>

	<a href="#" class="btn btn-warning position-fixed bottom-0 end-0 m-4"
		style="z-index: 999;" onclick="handleViewCartClick()"> 📰 查看新聞清單 <span
		id="cart-count" class="badge bg-dark ms-1"></span></a>

	<div th:replace="fragments :: auth-section"></div>

	<script th:replace="~{fragments :: session-inline-script}"></script>
	<script th:src="@{/js/member.js}"></script>

</body>
</html>
